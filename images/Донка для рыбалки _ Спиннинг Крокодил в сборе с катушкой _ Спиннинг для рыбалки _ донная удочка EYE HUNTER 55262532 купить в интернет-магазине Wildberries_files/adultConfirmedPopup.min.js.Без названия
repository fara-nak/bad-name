(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";!function(){var n=function(){function n(){this.onlyAdultClass="for-adults",this.requestUrl="/product/confirmadult",this.queue=[]}var o=n.prototype;return o.proceedIfAdultConfirmed=function(n,o){for(var t=this,e=arguments.length,u=new Array(e>2?e-2:0),r=2;r<e;r++)u[r-2]=arguments[r];return this._showConfirmPopup().then(function(n){return n?t._updateAdultConfirmStatus():Promise.resolve(!1)}).then(function(t){return t&&(null==n||n.apply(o,u)),Promise.resolve(t)})},o.pushToQueue=function(n){this.queue.push(n)},o.closePopup=function(){var n;null===(n=this.popup)||void 0===n||n.close(),this.popup=null},o._showConfirmPopup=function(){var n=this;return new Promise(function(o){$.views.loadTemplateAsync("confirmadultpopup").then(function(t){n.popup=wb.popup.showCustomPopup({useHtml:!0,popupClassesList:["popup-confirm-age","shown"],contentClasses:["popup__content"],useCenteredFunction:!0,onShow:function(e){t.link(e.querySelector(".popup__content"),{confirm:function(){o(!0),n.popup.close(),n.popup=null},decline:function(){o(!1),n.popup.close(),n.popup=null}})},onHide:function(){o(!1),n.popup=null}})})})},o._updateAdultConfirmStatus=function(){var n=this;return this.$httpClient.fetchJSON(this.requestUrl,{method:"POST"}).then(function(o){return n._onAdultConfirmed(),Promise.resolve(!0)}).catch(function(n){return console.error(n.message),Promise.resolve(!1)})},o._onAdultConfirmed=function(){var n=this;document.getElementsByClassName(this.onlyAdultClass).forEach(function(o){return o.classList.remove(n.onlyAdultClass)}),this.queue.forEach(function(n){return n()})},n}();window.__spaModuleManager__.register("adultConfirmedPopup",n)}();

},{}]},{},[1]);
